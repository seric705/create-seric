import q from"node:fs";import D from"node:path";import{fileURLToPath as te}from"node:url";import Mi,{exec as Oi}from"child_process";import re from"path";import ie from"fs";import jt from"readline";import Ft from"events";import Pi from"ora";var Ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function se(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var W={exports:{}},ne,Nt;function Ei(){if(Nt)return ne;Nt=1,ne=t,t.sync=h;var e=ie;function r(m,i){var g=i.pathExt!==void 0?i.pathExt:process.env.PATHEXT;if(!g||(g=g.split(";"),g.indexOf("")!==-1))return!0;for(var l=0;l<g.length;l++){var u=g[l].toLowerCase();if(u&&m.substr(-u.length).toLowerCase()===u)return!0}return!1}function n(m,i,g){return!m.isSymbolicLink()&&!m.isFile()?!1:r(i,g)}function t(m,i,g){e.stat(m,function(l,u){g(l,l?!1:n(u,m,i))})}function h(m,i){return n(e.statSync(m),m,i)}return ne}var oe,Ht;function Ci(){if(Ht)return oe;Ht=1,oe=r,r.sync=n;var e=ie;function r(m,i,g){e.stat(m,function(l,u){g(l,l?!1:t(u,i))})}function n(m,i){return t(e.statSync(m),i)}function t(m,i){return m.isFile()&&h(m,i)}function h(m,i){var g=m.mode,l=m.uid,u=m.gid,s=i.uid!==void 0?i.uid:process.getuid&&process.getuid(),c=i.gid!==void 0?i.gid:process.getgid&&process.getgid(),a=parseInt("100",8),o=parseInt("010",8),d=parseInt("001",8),w=a|o,v=g&d||g&o&&u===c||g&a&&l===s||g&w&&s===0;return v}return oe}var ee;process.platform==="win32"||Ti.TESTING_WINDOWS?ee=Ei():ee=Ci();var _i=le;le.sync=qi;function le(e,r,n){if(typeof r=="function"&&(n=r,r={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(t,h){le(e,r||{},function(m,i){m?h(m):t(i)})})}ee(e,r||{},function(t,h){t&&(t.code==="EACCES"||r&&r.ignoreErrors)&&(t=null,h=!1),n(t,h)})}function qi(e,r){try{return ee.sync(e,r||{})}catch(n){if(r&&r.ignoreErrors||n.code==="EACCES")return!1;throw n}}const z=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Yt=re,Di=z?";":":",Lt=_i,kt=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Vt=(e,r)=>{const n=r.colon||Di,t=e.match(/\//)||z&&e.match(/\\/)?[""]:[...z?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(n)],h=z?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",m=z?h.split(n):[""];return z&&e.indexOf(".")!==-1&&m[0]!==""&&m.unshift(""),{pathEnv:t,pathExt:m,pathExtExe:h}},Ut=(e,r,n)=>{typeof r=="function"&&(n=r,r={}),r||(r={});const{pathEnv:t,pathExt:h,pathExtExe:m}=Vt(e,r),i=[],g=u=>new Promise((s,c)=>{if(u===t.length)return r.all&&i.length?s(i):c(kt(e));const a=t[u],o=/^".*"$/.test(a)?a.slice(1,-1):a,d=Yt.join(o,e),w=!o&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;s(l(w,u,0))}),l=(u,s,c)=>new Promise((a,o)=>{if(c===h.length)return a(g(s+1));const d=h[c];Lt(u+d,{pathExt:m},(w,v)=>{if(!w&&v)if(r.all)i.push(u+d);else return a(u+d);return a(l(u,s,c+1))})});return n?g(0).then(u=>n(null,u),n):g(0)},Ri=(e,r)=>{r=r||{};const{pathEnv:n,pathExt:t,pathExtExe:h}=Vt(e,r),m=[];for(let i=0;i<n.length;i++){const g=n[i],l=/^".*"$/.test(g)?g.slice(1,-1):g,u=Yt.join(l,e),s=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let c=0;c<t.length;c++){const a=s+t[c];try{if(Lt.sync(a,{pathExt:h}))if(r.all)m.push(a);else return a}catch{}}}if(r.all&&m.length)return m;if(r.nothrow)return null;throw kt(e)};var Ii=Ut;Ut.sync=Ri;var he={exports:{}};const Bt=(e={})=>{const r=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(t=>t.toUpperCase()==="PATH")||"Path"};he.exports=Bt,he.exports.default=Bt;var Ai=he.exports;const Gt=re,ji=Ii,Fi=Ai;function Wt(e,r){const n=e.options.env||process.env,t=process.cwd(),h=e.options.cwd!=null,m=h&&process.chdir!==void 0&&!process.chdir.disabled;if(m)try{process.chdir(e.options.cwd)}catch{}let i;try{i=ji.sync(e.command,{path:n[Fi({env:n})],pathExt:r?Gt.delimiter:void 0})}catch{}finally{m&&process.chdir(t)}return i&&(i=Gt.resolve(h?e.options.cwd:"",i)),i}function Ni(e){return Wt(e)||Wt(e,!0)}var Hi=Ni,ue={};const ae=/([()\][%!^"`<>&|;, *?])/g;function Yi(e){return e=e.replace(ae,"^$1"),e}function Li(e,r){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(ae,"^$1"),r&&(e=e.replace(ae,"^$1")),e}ue.command=Yi,ue.argument=Li;var ki=/^#!(.*)/;const Vi=ki;var Ui=(e="")=>{const r=e.match(Vi);if(!r)return null;const[n,t]=r[0].replace(/#! ?/,"").split(" "),h=n.split("/").pop();return h==="env"?t:t?`${h} ${t}`:h};const ce=ie,Bi=Ui;function Gi(e){const n=Buffer.alloc(150);let t;try{t=ce.openSync(e,"r"),ce.readSync(t,n,0,150,0),ce.closeSync(t)}catch{}return Bi(n.toString())}var Wi=Gi;const zi=re,zt=Hi,Jt=ue,Ji=Wi,Ki=process.platform==="win32",Zi=/\.(?:com|exe)$/i,Xi=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Qi(e){e.file=zt(e);const r=e.file&&Ji(e.file);return r?(e.args.unshift(e.file),e.command=r,zt(e)):e.file}function es(e){if(!Ki)return e;const r=Qi(e),n=!Zi.test(r);if(e.options.forceShell||n){const t=Xi.test(r);e.command=zi.normalize(e.command),e.command=Jt.command(e.command),e.args=e.args.map(m=>Jt.argument(m,t));const h=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${h}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function ts(e,r,n){r&&!Array.isArray(r)&&(n=r,r=null),r=r?r.slice(0):[],n=Object.assign({},n);const t={command:e,args:r,options:n,file:void 0,original:{command:e,args:r}};return n.shell?t:es(t)}var rs=ts;const de=process.platform==="win32";function fe(e,r){return Object.assign(new Error(`${r} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${e.command}`,path:e.command,spawnargs:e.args})}function is(e,r){if(!de)return;const n=e.emit;e.emit=function(t,h){if(t==="exit"){const m=Kt(h,r);if(m)return n.call(e,"error",m)}return n.apply(e,arguments)}}function Kt(e,r){return de&&e===1&&!r.file?fe(r.original,"spawn"):null}function ss(e,r){return de&&e===1&&!r.file?fe(r.original,"spawnSync"):null}var ns={hookChildProcess:is,verifyENOENT:Kt,verifyENOENTSync:ss,notFoundError:fe};const Zt=Mi,pe=rs,me=ns;function Xt(e,r,n){const t=pe(e,r,n),h=Zt.spawn(t.command,t.args,t.options);return me.hookChildProcess(h,t),h}function os(e,r,n){const t=pe(e,r,n),h=Zt.spawnSync(t.command,t.args,t.options);return h.error=h.error||me.verifyENOENTSync(h.status,t),h}W.exports=Xt,W.exports.spawn=Xt,W.exports.sync=os,W.exports._parse=pe,W.exports._enoent=me;var ls=W.exports;const hs=se(ls);function us(e,r){var n=e;r.slice(0,-1).forEach(function(h){n=n[h]||{}});var t=r[r.length-1];return t in n}function Qt(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function er(e,r){return r==="constructor"&&typeof e[r]=="function"||r==="__proto__"}var as=function(e,r){r||(r={});var n={bools:{},strings:{},unknownFn:null};typeof r.unknown=="function"&&(n.unknownFn=r.unknown),typeof r.boolean=="boolean"&&r.boolean?n.allBools=!0:[].concat(r.boolean).filter(Boolean).forEach(function(y){n.bools[y]=!0});var t={};function h(y){return t[y].some(function(x){return n.bools[x]})}Object.keys(r.alias||{}).forEach(function(y){t[y]=[].concat(r.alias[y]),t[y].forEach(function(x){t[x]=[y].concat(t[y].filter(function(M){return x!==M}))})}),[].concat(r.string).filter(Boolean).forEach(function(y){n.strings[y]=!0,t[y]&&[].concat(t[y]).forEach(function(x){n.strings[x]=!0})});var m=r.default||{},i={_:[]};function g(y,x){return n.allBools&&/^--[^=]+$/.test(x)||n.strings[y]||n.bools[y]||t[y]}function l(y,x,M){for(var P=y,$=0;$<x.length-1;$++){var S=x[$];if(er(P,S))return;P[S]===void 0&&(P[S]={}),(P[S]===Object.prototype||P[S]===Number.prototype||P[S]===String.prototype)&&(P[S]={}),P[S]===Array.prototype&&(P[S]=[]),P=P[S]}var O=x[x.length-1];er(P,O)||((P===Object.prototype||P===Number.prototype||P===String.prototype)&&(P={}),P===Array.prototype&&(P=[]),P[O]===void 0||n.bools[O]||typeof P[O]=="boolean"?P[O]=M:Array.isArray(P[O])?P[O].push(M):P[O]=[P[O],M])}function u(y,x,M){if(!(M&&n.unknownFn&&!g(y,M)&&n.unknownFn(M)===!1)){var P=!n.strings[y]&&Qt(x)?Number(x):x;l(i,y.split("."),P),(t[y]||[]).forEach(function($){l(i,$.split("."),P)})}}Object.keys(n.bools).forEach(function(y){u(y,m[y]===void 0?!1:m[y])});var s=[];e.indexOf("--")!==-1&&(s=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var c=0;c<e.length;c++){var a=e[c],o,d;if(/^--.+=/.test(a)){var w=a.match(/^--([^=]+)=([\s\S]*)$/);o=w[1];var v=w[2];n.bools[o]&&(v=v!=="false"),u(o,v,a)}else if(/^--no-.+/.test(a))o=a.match(/^--no-(.+)/)[1],u(o,!1,a);else if(/^--.+/.test(a))o=a.match(/^--(.+)/)[1],d=e[c+1],d!==void 0&&!/^(-|--)[^-]/.test(d)&&!n.bools[o]&&!n.allBools&&(!t[o]||!h(o))?(u(o,d,a),c+=1):/^(true|false)$/.test(d)?(u(o,d==="true",a),c+=1):u(o,n.strings[o]?"":!0,a);else if(/^-[^-]+/.test(a)){for(var f=a.slice(1,-1).split(""),p=!1,b=0;b<f.length;b++){if(d=a.slice(b+2),d==="-"){u(f[b],d,a);continue}if(/[A-Za-z]/.test(f[b])&&d[0]==="="){u(f[b],d.slice(1),a),p=!0;break}if(/[A-Za-z]/.test(f[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(d)){u(f[b],d,a),p=!0;break}if(f[b+1]&&f[b+1].match(/\W/)){u(f[b],a.slice(b+2),a),p=!0;break}else u(f[b],n.strings[f[b]]?"":!0,a)}o=a.slice(-1)[0],!p&&o!=="-"&&(e[c+1]&&!/^(-|--)[^-]/.test(e[c+1])&&!n.bools[o]&&(!t[o]||!h(o))?(u(o,e[c+1],a),c+=1):e[c+1]&&/^(true|false)$/.test(e[c+1])?(u(o,e[c+1]==="true",a),c+=1):u(o,n.strings[o]?"":!0,a))}else if((!n.unknownFn||n.unknownFn(a)!==!1)&&i._.push(n.strings._||!Qt(a)?a:Number(a)),r.stopEarly){i._.push.apply(i._,e.slice(c+1));break}}return Object.keys(m).forEach(function(y){us(i,y.split("."))||(l(i,y.split("."),m[y]),(t[y]||[]).forEach(function(x){l(i,x.split("."),m[y])}))}),r["--"]?i["--"]=s.slice():s.forEach(function(y){i._.push(y)}),i};const cs=se(as);var ge={},ve,tr;function E(){if(tr)return ve;tr=1;const{FORCE_COLOR:e,NODE_DISABLE_COLORS:r,TERM:n}=process.env,t={enabled:!r&&n!=="dumb"&&e!=="0",reset:i(0,0),bold:i(1,22),dim:i(2,22),italic:i(3,23),underline:i(4,24),inverse:i(7,27),hidden:i(8,28),strikethrough:i(9,29),black:i(30,39),red:i(31,39),green:i(32,39),yellow:i(33,39),blue:i(34,39),magenta:i(35,39),cyan:i(36,39),white:i(37,39),gray:i(90,39),grey:i(90,39),bgBlack:i(40,49),bgRed:i(41,49),bgGreen:i(42,49),bgYellow:i(43,49),bgBlue:i(44,49),bgMagenta:i(45,49),bgCyan:i(46,49),bgWhite:i(47,49)};function h(g,l){let u=0,s,c="",a="";for(;u<g.length;u++)s=g[u],c+=s.open,a+=s.close,l.includes(s.close)&&(l=l.replace(s.rgx,s.close+s.open));return c+l+a}function m(g,l){let u={has:g,keys:l};return u.reset=t.reset.bind(u),u.bold=t.bold.bind(u),u.dim=t.dim.bind(u),u.italic=t.italic.bind(u),u.underline=t.underline.bind(u),u.inverse=t.inverse.bind(u),u.hidden=t.hidden.bind(u),u.strikethrough=t.strikethrough.bind(u),u.black=t.black.bind(u),u.red=t.red.bind(u),u.green=t.green.bind(u),u.yellow=t.yellow.bind(u),u.blue=t.blue.bind(u),u.magenta=t.magenta.bind(u),u.cyan=t.cyan.bind(u),u.white=t.white.bind(u),u.gray=t.gray.bind(u),u.grey=t.grey.bind(u),u.bgBlack=t.bgBlack.bind(u),u.bgRed=t.bgRed.bind(u),u.bgGreen=t.bgGreen.bind(u),u.bgYellow=t.bgYellow.bind(u),u.bgBlue=t.bgBlue.bind(u),u.bgMagenta=t.bgMagenta.bind(u),u.bgCyan=t.bgCyan.bind(u),u.bgWhite=t.bgWhite.bind(u),u}function i(g,l){let u={open:`\x1B[${g}m`,close:`\x1B[${l}m`,rgx:new RegExp(`\\x1b\\[${l}m`,"g")};return function(s){return this!==void 0&&this.has!==void 0?(this.has.includes(g)||(this.has.push(g),this.keys.push(u)),s===void 0?this:t.enabled?h(this.keys,s+""):s+""):s===void 0?m([g],[u]):t.enabled?h([u],s+""):s+""}}return ve=t,ve}var be,rr;function ds(){return rr||(rr=1,be=(e,r)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(r){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),be}var we,ir;function ye(){return ir||(ir=1,we=e=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),n=new RegExp(r,"g");return typeof e=="string"?e.replace(n,""):e}),we}var xe,sr;function C(){if(sr)return xe;sr=1;const e="\x1B",r=`${e}[`,n="\x07",t={to(i,g){return g?`${r}${g+1};${i+1}H`:`${r}${i+1}G`},move(i,g){let l="";return i<0?l+=`${r}${-i}D`:i>0&&(l+=`${r}${i}C`),g<0?l+=`${r}${-g}A`:g>0&&(l+=`${r}${g}B`),l},up:(i=1)=>`${r}${i}A`,down:(i=1)=>`${r}${i}B`,forward:(i=1)=>`${r}${i}C`,backward:(i=1)=>`${r}${i}D`,nextLine:(i=1)=>`${r}E`.repeat(i),prevLine:(i=1)=>`${r}F`.repeat(i),left:`${r}G`,hide:`${r}?25l`,show:`${r}?25h`,save:`${e}7`,restore:`${e}8`},h={up:(i=1)=>`${r}S`.repeat(i),down:(i=1)=>`${r}T`.repeat(i)},m={screen:`${r}2J`,up:(i=1)=>`${r}1J`.repeat(i),down:(i=1)=>`${r}J`.repeat(i),line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,lines(i){let g="";for(let l=0;l<i;l++)g+=this.line+(l<i-1?t.up():"");return i&&(g+=t.left),g}};return xe={cursor:t,scroll:h,erase:m,beep:n},xe}var Se,nr;function fs(){if(nr)return Se;nr=1;function e(l,u){var s=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!s){if(Array.isArray(l)||(s=r(l))||u&&l&&typeof l.length=="number"){s&&(l=s);var c=0,a=function(){};return{s:a,n:function(){return c>=l.length?{done:!0}:{done:!1,value:l[c++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,d=!1,w;return{s:function(){s=s.call(l)},n:function(){var f=s.next();return o=f.done,f},e:function(f){d=!0,w=f},f:function(){try{!o&&s.return!=null&&s.return()}finally{if(d)throw w}}}}function r(l,u){if(l){if(typeof l=="string")return n(l,u);var s=Object.prototype.toString.call(l).slice(8,-1);if(s==="Object"&&l.constructor&&(s=l.constructor.name),s==="Map"||s==="Set")return Array.from(l);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return n(l,u)}}function n(l,u){(u==null||u>l.length)&&(u=l.length);for(var s=0,c=new Array(u);s<u;s++)c[s]=l[s];return c}const t=ye(),h=C(),m=h.erase,i=h.cursor,g=l=>[...t(l)].length;return Se=function(l,u){if(!u)return m.line+i.to(0);let s=0;const c=l.split(/\r?\n/);var a=e(c),o;try{for(a.s();!(o=a.n()).done;){let d=o.value;s+=1+Math.floor(Math.max(g(d)-1,0)/u)}}catch(d){a.e(d)}finally{a.f()}return m.lines(s)},Se}var $e,or;function lr(){if(or)return $e;or=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},r={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return $e=process.platform==="win32"?r:e,$e}var Me,hr;function ps(){if(hr)return Me;hr=1;const e=E(),r=lr(),n=Object.freeze({password:{scale:1,render:l=>"*".repeat(l.length)},emoji:{scale:2,render:l=>"\u{1F603}".repeat(l.length)},invisible:{scale:0,render:l=>""},default:{scale:1,render:l=>`${l}`}}),t=l=>n[l]||n.default,h=Object.freeze({aborted:e.red(r.cross),done:e.green(r.tick),exited:e.yellow(r.cross),default:e.cyan("?")});return Me={styles:n,render:t,symbols:h,symbol:(l,u,s)=>u?h.aborted:s?h.exited:l?h.done:h.default,delimiter:l=>e.gray(l?r.ellipsis:r.pointerSmall),item:(l,u)=>e.gray(l?u?r.pointerSmall:"+":r.line)},Me}var Oe,ur;function ms(){if(ur)return Oe;ur=1;const e=ye();return Oe=function(r,n){let t=String(e(r)||"").split(/\r?\n/);return n?t.map(h=>Math.ceil(h.length/n)).reduce((h,m)=>h+m):t.length},Oe}var Pe,ar;function gs(){return ar||(ar=1,Pe=(e,r={})=>{const n=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",t=r.width;return(e||"").split(/\r?\n/g).map(h=>h.split(/\s+/g).reduce((m,i)=>(i.length+n.length>=t||m[m.length-1].length+i.length+1<t?m[m.length-1]+=` ${i}`:m.push(`${n}${i}`),m),[n]).join(`
`)).join(`
`)}),Pe}var Te,cr;function vs(){return cr||(cr=1,Te=(e,r,n)=>{n=n||r;let t=Math.min(r-n,e-Math.floor(n/2));t<0&&(t=0);let h=Math.min(t+n,r);return{startIndex:t,endIndex:h}}),Te}var Ee,dr;function N(){return dr||(dr=1,Ee={action:ds(),clear:fs(),style:ps(),strip:ye(),figures:lr(),lines:ms(),wrap:gs(),entriesToDisplay:vs()}),Ee}var Ce,fr;function k(){if(fr)return Ce;fr=1;const e=jt,r=N(),n=r.action,t=Ft,h=C(),m=h.beep,i=h.cursor,g=E();class l extends t{constructor(s={}){super(),this.firstRender=!0,this.in=s.stdin||process.stdin,this.out=s.stdout||process.stdout,this.onRender=(s.onRender||(()=>{})).bind(this);const c=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,c),this.in.isTTY&&this.in.setRawMode(!0);const a=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(d,w)=>{let v=n(w,a);v===!1?this._&&this._(d,w):typeof this[v]=="function"?this[v](w):this.bell()};this.close=()=>{this.out.write(i.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),c.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(m)}render(){this.onRender(g),this.firstRender&&(this.firstRender=!1)}}return Ce=l,Ce}var _e,pr;function bs(){if(pr)return _e;pr=1;function e(o,d,w,v,f,p,b){try{var y=o[p](b),x=y.value}catch(M){w(M);return}y.done?d(x):Promise.resolve(x).then(v,f)}function r(o){return function(){var d=this,w=arguments;return new Promise(function(v,f){var p=o.apply(d,w);function b(x){e(p,v,f,b,y,"next",x)}function y(x){e(p,v,f,b,y,"throw",x)}b(void 0)})}}const n=E(),t=k(),h=C(),m=h.erase,i=h.cursor,g=N(),l=g.style,u=g.clear,s=g.lines,c=g.figures;class a extends t{constructor(d={}){super(d),this.transform=l.render(d.style),this.scale=this.transform.scale,this.msg=d.message,this.initial=d.initial||"",this.validator=d.validate||(()=>!0),this.value="",this.errorMsg=d.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(d){!d&&this.initial?(this.placeholder=!0,this.rendered=n.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(d)),this._value=d,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var d=this;return r(function*(){let w=yield d.validator(d.value);typeof w=="string"&&(d.errorMsg=w,w=!1),d.error=!w})()}submit(){var d=this;return r(function*(){if(d.value=d.value||d.initial,d.cursorOffset=0,d.cursor=d.rendered.length,yield d.validate(),d.error){d.red=!0,d.fire(),d.render();return}d.done=!0,d.aborted=!1,d.fire(),d.render(),d.out.write(`
`),d.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(d){this.placeholder||(this.cursor=this.cursor+d,this.cursorOffset+=d)}_(d,w){let v=this.value.slice(0,this.cursor),f=this.value.slice(this.cursor);this.value=`${v}${d}${f}`,this.red=!1,this.cursor=this.placeholder?0:v.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let d=this.value.slice(0,this.cursor-1),w=this.value.slice(this.cursor);this.value=`${d}${w}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let d=this.value.slice(0,this.cursor),w=this.value.slice(this.cursor+1);this.value=`${d}${w}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(s(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),n.bold(this.msg),l.delimiter(this.done),this.red?n.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((d,w,v)=>d+`
${v?" ":c.pointerSmall} ${n.red().italic(w)}`,"")),this.out.write(m.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore+i.move(this.cursorOffset,0)))}}return _e=a,_e}var qe,mr;function ws(){if(mr)return qe;mr=1;const e=E(),r=k(),n=N(),t=n.style,h=n.clear,m=n.figures,i=n.wrap,g=n.entriesToDisplay,l=C(),u=l.cursor;class s extends r{constructor(a={}){super(a),this.msg=a.message,this.hint=a.hint||"- Use arrow-keys. Return to submit.",this.warn=a.warn||"- This option is disabled",this.cursor=a.initial||0,this.choices=a.choices.map((o,d)=>(typeof o=="string"&&(o={title:o,value:d}),{title:o&&(o.title||o.value||o),value:o&&(o.value===void 0?d:o.value),description:o&&o.description,selected:o&&o.selected,disabled:o&&o.disabled})),this.optionsPerPage=a.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=h("",this.out.columns),this.render()}moveCursor(a){this.cursor=a,this.value=this.choices[a].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(a,o){if(a===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(u.hide):this.out.write(h(this.outputText,this.out.columns)),super.render();let a=g(this.cursor,this.choices.length,this.optionsPerPage),o=a.startIndex,d=a.endIndex;if(this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let w=o;w<d;w++){let v,f,p="",b=this.choices[w];w===o&&o>0?f=m.arrowUp:w===d-1&&d<this.choices.length?f=m.arrowDown:f=" ",b.disabled?(v=this.cursor===w?e.gray().underline(b.title):e.strikethrough().gray(b.title),f=(this.cursor===w?e.bold().gray(m.pointer)+" ":"  ")+f):(v=this.cursor===w?e.cyan().underline(b.title):b.title,f=(this.cursor===w?e.cyan(m.pointer)+" ":"  ")+f,b.description&&this.cursor===w&&(p=` - ${b.description}`,(f.length+v.length+p.length>=this.out.columns||b.description.split(/\r?\n/).length>1)&&(p=`
`+i(b.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${v}${e.gray(p)}
`}}this.out.write(this.outputText)}}return qe=s,qe}var De,gr;function ys(){if(gr)return De;gr=1;const e=E(),r=k(),n=N(),t=n.style,h=n.clear,m=C(),i=m.cursor,g=m.erase;class l extends r{constructor(s={}){super(s),this.msg=s.message,this.value=!!s.initial,this.active=s.active||"on",this.inactive=s.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(s,c){if(s===" ")this.value=!this.value;else if(s==="1")this.value=!0;else if(s==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(g.line+i.to(0)+this.outputText))}}return De=l,De}var Re,vr;function Y(){if(vr)return Re;vr=1;class e{constructor({token:n,date:t,parts:h,locales:m}){this.token=n,this.date=t||new Date,this.parts=h||[this],this.locales=m||{}}up(){}down(){}next(){const n=this.parts.indexOf(this);return this.parts.find((t,h)=>h>n&&t instanceof e)}setTo(n){}prev(){let n=[].concat(this.parts).reverse();const t=n.indexOf(this);return n.find((h,m)=>m>t&&h instanceof e)}toString(){return String(this.date)}}return Re=e,Re}var Ie,br;function xs(){if(br)return Ie;br=1;const e=Y();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}return Ie=r,Ie}var Ae,wr;function Ss(){if(wr)return Ae;wr=1;const e=Y(),r=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");class n extends e{constructor(h={}){super(h)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(h){this.date.setDate(parseInt(h.substr(-2)))}toString(){let h=this.date.getDate(),m=this.date.getDay();return this.token==="DD"?String(h).padStart(2,"0"):this.token==="Do"?h+r(h):this.token==="d"?m+1:this.token==="ddd"?this.locales.weekdaysShort[m]:this.token==="dddd"?this.locales.weekdays[m]:h}}return Ae=n,Ae}var je,yr;function $s(){if(yr)return je;yr=1;const e=Y();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}return je=r,je}var Fe,xr;function Ms(){if(xr)return Fe;xr=1;const e=Y();class r extends e{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Fe=r,Fe}var Ne,Sr;function Os(){if(Sr)return Ne;Sr=1;const e=Y();class r extends e{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}return Ne=r,Ne}var He,$r;function Ps(){if($r)return He;$r=1;const e=Y();class r extends e{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),h=this.token.length;return h===2?String(t+1).padStart(2,"0"):h===3?this.locales.monthsShort[t]:h===4?this.locales.months[t]:String(t+1)}}return He=r,He}var Ye,Mr;function Ts(){if(Mr)return Ye;Mr=1;const e=Y();class r extends e{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}return Ye=r,Ye}var Le,Or;function Es(){if(Or)return Le;Or=1;const e=Y();class r extends e{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}return Le=r,Le}var ke,Pr;function Cs(){return Pr||(Pr=1,ke={DatePart:Y(),Meridiem:xs(),Day:Ss(),Hours:$s(),Milliseconds:Ms(),Minutes:Os(),Month:Ps(),Seconds:Ts(),Year:Es()}),ke}var Ve,Tr;function _s(){if(Tr)return Ve;Tr=1;function e(S,O,T,R,_,I,F){try{var j=S[I](F),A=j.value}catch(G){T(G);return}j.done?O(A):Promise.resolve(A).then(R,_)}function r(S){return function(){var O=this,T=arguments;return new Promise(function(R,_){var I=S.apply(O,T);function F(A){e(I,R,_,F,j,"next",A)}function j(A){e(I,R,_,F,j,"throw",A)}F(void 0)})}}const n=E(),t=k(),h=N(),m=h.style,i=h.clear,g=h.figures,l=C(),u=l.erase,s=l.cursor,c=Cs(),a=c.DatePart,o=c.Meridiem,d=c.Day,w=c.Hours,v=c.Milliseconds,f=c.Minutes,p=c.Month,b=c.Seconds,y=c.Year,x=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,M={1:({token:S})=>S.replace(/\\(.)/g,"$1"),2:S=>new d(S),3:S=>new p(S),4:S=>new y(S),5:S=>new o(S),6:S=>new w(S),7:S=>new f(S),8:S=>new b(S),9:S=>new v(S)},P={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class $ extends t{constructor(O={}){super(O),this.msg=O.message,this.cursor=0,this.typed="",this.locales=Object.assign(P,O.locales),this._date=O.initial||new Date,this.errorMsg=O.error||"Please Enter A Valid Value",this.validator=O.validate||(()=>!0),this.mask=O.mask||"YYYY-MM-DD HH:mm:ss",this.clear=i("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(O){O&&this._date.setTime(O.getTime())}set mask(O){let T;for(this.parts=[];T=x.exec(O);){let _=T.shift(),I=T.findIndex(F=>F!=null);this.parts.push(I in M?M[I]({token:T[I]||_,date:this.date,parts:this.parts,locales:this.locales}):T[I]||_)}let R=this.parts.reduce((_,I)=>(typeof I=="string"&&typeof _[_.length-1]=="string"?_[_.length-1]+=I:_.push(I),_),[]);this.parts.splice(0),this.parts.push(...R),this.reset()}moveCursor(O){this.typed="",this.cursor=O,this.fire()}reset(){this.moveCursor(this.parts.findIndex(O=>O instanceof a)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var O=this;return r(function*(){let T=yield O.validator(O.value);typeof T=="string"&&(O.errorMsg=T,T=!1),O.error=!T})()}submit(){var O=this;return r(function*(){if(yield O.validate(),O.error){O.color="red",O.fire(),O.render();return}O.done=!0,O.aborted=!1,O.fire(),O.render(),O.out.write(`
`),O.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let O=this.parts[this.cursor].prev();if(O==null)return this.bell();this.moveCursor(this.parts.indexOf(O)),this.render()}right(){let O=this.parts[this.cursor].next();if(O==null)return this.bell();this.moveCursor(this.parts.indexOf(O)),this.render()}next(){let O=this.parts[this.cursor].next();this.moveCursor(O?this.parts.indexOf(O):this.parts.findIndex(T=>T instanceof a)),this.render()}_(O){/\d/.test(O)&&(this.typed+=O,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[m.symbol(this.done,this.aborted),n.bold(this.msg),m.delimiter(!1),this.parts.reduce((O,T,R)=>O.concat(R===this.cursor&&!this.done?n.cyan().underline(T.toString()):T),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((O,T,R)=>O+`
${R?" ":g.pointerSmall} ${n.red().italic(T)}`,"")),this.out.write(u.line+s.to(0)+this.outputText))}}return Ve=$,Ve}var Ue,Er;function qs(){if(Er)return Ue;Er=1;function e(v,f,p,b,y,x,M){try{var P=v[x](M),$=P.value}catch(S){p(S);return}P.done?f($):Promise.resolve($).then(b,y)}function r(v){return function(){var f=this,p=arguments;return new Promise(function(b,y){var x=v.apply(f,p);function M($){e(x,b,y,M,P,"next",$)}function P($){e(x,b,y,M,P,"throw",$)}M(void 0)})}}const n=E(),t=k(),h=C(),m=h.cursor,i=h.erase,g=N(),l=g.style,u=g.figures,s=g.clear,c=g.lines,a=/[0-9]/,o=v=>v!==void 0,d=(v,f)=>{let p=Math.pow(10,f);return Math.round(v*p)/p};class w extends t{constructor(f={}){super(f),this.transform=l.render(f.style),this.msg=f.message,this.initial=o(f.initial)?f.initial:"",this.float=!!f.float,this.round=f.round||2,this.inc=f.increment||1,this.min=o(f.min)?f.min:-1/0,this.max=o(f.max)?f.max:1/0,this.errorMsg=f.error||"Please Enter A Valid Value",this.validator=f.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(f){!f&&f!==0?(this.placeholder=!0,this.rendered=n.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${d(f,this.round)}`),this._value=d(f,this.round)),this.fire()}get value(){return this._value}parse(f){return this.float?parseFloat(f):parseInt(f)}valid(f){return f==="-"||f==="."&&this.float||a.test(f)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let f=this.value;this.value=f!==""?f:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var f=this;return r(function*(){let p=yield f.validator(f.value);typeof p=="string"&&(f.errorMsg=p,p=!1),f.error=!p})()}submit(){var f=this;return r(function*(){if(yield f.validate(),f.error){f.color="red",f.fire(),f.render();return}let p=f.value;f.value=p!==""?p:f.initial,f.done=!0,f.aborted=!1,f.error=!1,f.fire(),f.render(),f.out.write(`
`),f.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let f=this.value.toString();if(f.length===0)return this.bell();this.value=this.parse(f=f.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(f,p){if(!this.valid(f))return this.bell();const b=Date.now();if(b-this.lastHit>1e3&&(this.typed=""),this.typed+=f,this.lastHit=b,this.color="cyan",f===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(m.down(c(this.outputError,this.out.columns)-1)+s(this.outputError,this.out.columns)),this.out.write(s(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[l.symbol(this.done,this.aborted),n.bold(this.msg),l.delimiter(this.done),!this.done||!this.done&&!this.placeholder?n[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((f,p,b)=>f+`
${b?" ":u.pointerSmall} ${n.red().italic(p)}`,"")),this.out.write(i.line+m.to(0)+this.outputText+m.save+this.outputError+m.restore))}}return Ue=w,Ue}var Be,Cr;function _r(){if(Cr)return Be;Cr=1;const e=E(),r=C(),n=r.cursor,t=k(),h=N(),m=h.clear,i=h.figures,g=h.style,l=h.wrap,u=h.entriesToDisplay;class s extends t{constructor(a={}){super(a),this.msg=a.message,this.cursor=a.cursor||0,this.scrollIndex=a.cursor||0,this.hint=a.hint||"",this.warn=a.warn||"- This option is disabled -",this.minSelected=a.min,this.showMinError=!1,this.maxChoices=a.max,this.instructions=a.instructions,this.optionsPerPage=a.optionsPerPage||10,this.value=a.choices.map((o,d)=>(typeof o=="string"&&(o={title:o,value:d}),{title:o&&(o.title||o.value||o),description:o&&o.description,value:o&&(o.value===void 0?d:o.value),selected:o&&o.selected,disabled:o&&o.disabled})),this.clear=m("",this.out.columns),a.overrideRender||this.render()}reset(){this.value.map(a=>!a.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(a=>a.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const a=this.value.filter(o=>o.selected);this.minSelected&&a.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const a=this.value[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const a=!this.value[this.cursor].selected;this.value.filter(o=>!o.disabled).forEach(o=>o.selected=a),this.render()}_(a,o){if(a===" ")this.handleSpaceToggle();else if(a==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${i.arrowUp}/${i.arrowDown}: Highlight option
    ${i.arrowLeft}/${i.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(a,o,d,w){const v=(o.selected?e.green(i.radioOn):i.radioOff)+" "+w+" ";let f,p;return o.disabled?f=a===d?e.gray().underline(o.title):e.strikethrough().gray(o.title):(f=a===d?e.cyan().underline(o.title):o.title,a===d&&o.description&&(p=` - ${o.description}`,(v.length+f.length+p.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(p=`
`+l(o.description,{margin:v.length,width:this.out.columns})))),v+f+e.gray(p||"")}paginateOptions(a){if(a.length===0)return e.red("No matches for this query.");let o=u(this.cursor,a.length,this.optionsPerPage),d=o.startIndex,w=o.endIndex,v,f=[];for(let p=d;p<w;p++)p===d&&d>0?v=i.arrowUp:p===w-1&&w<a.length?v=i.arrowDown:v=" ",f.push(this.renderOption(this.cursor,a[p],p,v));return`
`+f.join(`
`)}renderOptions(a){return this.done?"":this.paginateOptions(a)}renderDoneOrInstructions(){if(this.done)return this.value.filter(o=>o.selected).map(o=>o.title).join(", ");const a=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&a.push(e.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(n.hide),super.render();let a=[g.symbol(this.done,this.aborted),e.bold(this.msg),g.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.value),this.out.write(this.clear+a),this.clear=m(a,this.out.columns)}}return Be=s,Be}var Ge,qr;function Ds(){if(qr)return Ge;qr=1;function e(f,p,b,y,x,M,P){try{var $=f[M](P),S=$.value}catch(O){b(O);return}$.done?p(S):Promise.resolve(S).then(y,x)}function r(f){return function(){var p=this,b=arguments;return new Promise(function(y,x){var M=f.apply(p,b);function P(S){e(M,y,x,P,$,"next",S)}function $(S){e(M,y,x,P,$,"throw",S)}P(void 0)})}}const n=E(),t=k(),h=C(),m=h.erase,i=h.cursor,g=N(),l=g.style,u=g.clear,s=g.figures,c=g.wrap,a=g.entriesToDisplay,o=(f,p)=>f[p]&&(f[p].value||f[p].title||f[p]),d=(f,p)=>f[p]&&(f[p].title||f[p].value||f[p]),w=(f,p)=>{const b=f.findIndex(y=>y.value===p||y.title===p);return b>-1?b:void 0};class v extends t{constructor(p={}){super(p),this.msg=p.message,this.suggest=p.suggest,this.choices=p.choices,this.initial=typeof p.initial=="number"?p.initial:w(p.choices,p.initial),this.select=this.initial||p.cursor||0,this.i18n={noMatches:p.noMatches||"no matches found"},this.fallback=p.fallback||this.initial,this.clearFirst=p.clearFirst||!1,this.suggestions=[],this.input="",this.limit=p.limit||10,this.cursor=0,this.transform=l.render(p.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=u("",this.out.columns),this.complete(this.render),this.render()}set fallback(p){this._fb=Number.isSafeInteger(parseInt(p))?parseInt(p):p}get fallback(){let p;return typeof this._fb=="number"?p=this.choices[this._fb]:typeof this._fb=="string"&&(p={title:this._fb}),p||this._fb||{title:this.i18n.noMatches}}moveSelect(p){this.select=p,this.suggestions.length>0?this.value=o(this.suggestions,p):this.value=this.fallback.value,this.fire()}complete(p){var b=this;return r(function*(){const y=b.completing=b.suggest(b.input,b.choices),x=yield y;if(b.completing!==y)return;b.suggestions=x.map((P,$,S)=>({title:d(S,$),value:o(S,$),description:P.description})),b.completing=!1;const M=Math.max(x.length-1,0);b.moveSelect(Math.min(M,b.select)),p&&p()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(p,b){let y=this.input.slice(0,this.cursor),x=this.input.slice(this.cursor);this.input=`${y}${p}${x}`,this.cursor=y.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let p=this.input.slice(0,this.cursor-1),b=this.input.slice(this.cursor);this.input=`${p}${b}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let p=this.input.slice(0,this.cursor),b=this.input.slice(this.cursor+1);this.input=`${p}${b}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(p,b,y,x){let M,P=y?s.arrowUp:x?s.arrowDown:" ",$=b?n.cyan().underline(p.title):p.title;return P=(b?n.cyan(s.pointer)+" ":"  ")+P,p.description&&(M=` - ${p.description}`,(P.length+$.length+M.length>=this.out.columns||p.description.split(/\r?\n/).length>1)&&(M=`
`+c(p.description,{margin:3,width:this.out.columns}))),P+" "+$+n.gray(M||"")}render(){if(this.closed)return;this.firstRender?this.out.write(i.hide):this.out.write(u(this.outputText,this.out.columns)),super.render();let p=a(this.select,this.choices.length,this.limit),b=p.startIndex,y=p.endIndex;if(this.outputText=[l.symbol(this.done,this.aborted,this.exited),n.bold(this.msg),l.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const x=this.suggestions.slice(b,y).map((M,P)=>this.renderOption(M,this.select===P+b,P===0&&b>0,P+b===y-1&&y<this.choices.length)).join(`
`);this.outputText+=`
`+(x||n.gray(this.fallback.title))}this.out.write(m.line+i.to(0)+this.outputText)}}return Ge=v,Ge}var We,Dr;function Rs(){if(Dr)return We;Dr=1;const e=E(),r=C(),n=r.cursor,t=_r(),h=N(),m=h.clear,i=h.style,g=h.figures;class l extends t{constructor(s={}){s.overrideRender=!0,super(s),this.inputValue="",this.clear=m("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const s=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(a=>this.inputValue?!!(typeof a.title=="string"&&a.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof a.value=="string"&&a.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const c=this.filteredOptions.findIndex(a=>a===s);this.cursor=c<0?0:c,this.render()}handleSpaceToggle(){const s=this.filteredOptions[this.cursor];if(s.selected)s.selected=!1,this.render();else{if(s.disabled||this.value.filter(c=>c.selected).length>=this.maxChoices)return this.bell();s.selected=!0,this.render()}}handleInputChange(s){this.inputValue=this.inputValue+s,this.updateFilteredOptions()}_(s,c){s===" "?this.handleSpaceToggle():this.handleInputChange(s)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${g.arrowUp}/${g.arrowDown}: Highlight option
    ${g.arrowLeft}/${g.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(s,c,a){let o;return c.disabled?o=s===a?e.gray().underline(c.title):e.strikethrough().gray(c.title):o=s===a?e.cyan().underline(c.title):c.title,(c.selected?e.green(g.radioOn):g.radioOff)+"  "+o}renderDoneOrInstructions(){if(this.done)return this.value.filter(c=>c.selected).map(c=>c.title).join(", ");const s=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&s.push(e.yellow(this.warn)),s.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(n.hide),super.render();let s=[i.symbol(this.done,this.aborted),e.bold(this.msg),i.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(s+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),s+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+s),this.clear=m(s,this.out.columns)}}return We=l,We}var ze,Rr;function Is(){if(Rr)return ze;Rr=1;const e=E(),r=k(),n=N(),t=n.style,h=n.clear,m=C(),i=m.erase,g=m.cursor;class l extends r{constructor(s={}){super(s),this.msg=s.message,this.value=s.initial,this.initialValue=!!s.initial,this.yesMsg=s.yes||"yes",this.yesOption=s.yesOption||"(Y/n)",this.noMsg=s.no||"no",this.noOption=s.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(s,c){return s.toLowerCase()==="y"?(this.value=!0,this.submit()):s.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(g.hide):this.out.write(h(this.outputText,this.out.columns)),super.render(),this.outputText=[t.symbol(this.done,this.aborted),e.bold(this.msg),t.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(i.line+g.to(0)+this.outputText))}}return ze=l,ze}var Je,Ir;function As(){return Ir||(Ir=1,Je={TextPrompt:bs(),SelectPrompt:ws(),TogglePrompt:ys(),DatePrompt:_s(),NumberPrompt:qs(),MultiselectPrompt:_r(),AutocompletePrompt:Ds(),AutocompleteMultiselectPrompt:Rs(),ConfirmPrompt:Is()}),Je}var Ar;function js(){return Ar||(Ar=1,function(e){const r=e,n=As(),t=i=>i;function h(i,g,l={}){return new Promise((u,s)=>{const c=new n[i](g),a=l.onAbort||t,o=l.onSubmit||t,d=l.onExit||t;c.on("state",g.onState||t),c.on("submit",w=>u(o(w))),c.on("exit",w=>u(d(w))),c.on("abort",w=>s(a(w)))})}r.text=i=>h("TextPrompt",i),r.password=i=>(i.style="password",r.text(i)),r.invisible=i=>(i.style="invisible",r.text(i)),r.number=i=>h("NumberPrompt",i),r.date=i=>h("DatePrompt",i),r.confirm=i=>h("ConfirmPrompt",i),r.list=i=>{const g=i.separator||",";return h("TextPrompt",i,{onSubmit:l=>l.split(g).map(u=>u.trim())})},r.toggle=i=>h("TogglePrompt",i),r.select=i=>h("SelectPrompt",i),r.multiselect=i=>{i.choices=[].concat(i.choices||[]);const g=l=>l.filter(u=>u.selected).map(u=>u.value);return h("MultiselectPrompt",i,{onAbort:g,onSubmit:g})},r.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);const g=l=>l.filter(u=>u.selected).map(u=>u.value);return h("AutocompleteMultiselectPrompt",i,{onAbort:g,onSubmit:g})};const m=(i,g)=>Promise.resolve(g.filter(l=>l.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));r.autocomplete=i=>(i.suggest=i.suggest||m,i.choices=[].concat(i.choices||[]),h("AutocompletePrompt",i))}(ge)),ge}var Ke,jr;function Fs(){if(jr)return Ke;jr=1;function e(v,f){var p=Object.keys(v);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(v);f&&(b=b.filter(function(y){return Object.getOwnPropertyDescriptor(v,y).enumerable})),p.push.apply(p,b)}return p}function r(v){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?e(Object(p),!0).forEach(function(b){n(v,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(p)):e(Object(p)).forEach(function(b){Object.defineProperty(v,b,Object.getOwnPropertyDescriptor(p,b))})}return v}function n(v,f,p){return f in v?Object.defineProperty(v,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):v[f]=p,v}function t(v,f){var p=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!p){if(Array.isArray(v)||(p=h(v))||f&&v&&typeof v.length=="number"){p&&(v=p);var b=0,y=function(){};return{s:y,n:function(){return b>=v.length?{done:!0}:{done:!1,value:v[b++]}},e:function(S){throw S},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,M=!1,P;return{s:function(){p=p.call(v)},n:function(){var S=p.next();return x=S.done,S},e:function(S){M=!0,P=S},f:function(){try{!x&&p.return!=null&&p.return()}finally{if(M)throw P}}}}function h(v,f){if(v){if(typeof v=="string")return m(v,f);var p=Object.prototype.toString.call(v).slice(8,-1);if(p==="Object"&&v.constructor&&(p=v.constructor.name),p==="Map"||p==="Set")return Array.from(v);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return m(v,f)}}function m(v,f){(f==null||f>v.length)&&(f=v.length);for(var p=0,b=new Array(f);p<f;p++)b[p]=v[p];return b}function i(v,f,p,b,y,x,M){try{var P=v[x](M),$=P.value}catch(S){p(S);return}P.done?f($):Promise.resolve($).then(b,y)}function g(v){return function(){var f=this,p=arguments;return new Promise(function(b,y){var x=v.apply(f,p);function M($){i(x,b,y,M,P,"next",$)}function P($){i(x,b,y,M,P,"throw",$)}M(void 0)})}}const l=js(),u=["suggest","format","onState","validate","onRender","type"],s=()=>{};function c(){return a.apply(this,arguments)}function a(){return a=g(function*(v=[],{onSubmit:f=s,onCancel:p=s}={}){const b={},y=c._override||{};v=[].concat(v);let x,M,P,$,S,O;const T=function(){var j=g(function*(A,G,At=!1){if(!(!At&&A.validate&&A.validate(G)!==!0))return A.format?yield A.format(G,b):G});return function(G,At){return j.apply(this,arguments)}}();var R=t(v),_;try{for(R.s();!(_=R.n()).done;){M=_.value;var I=M;if($=I.name,S=I.type,typeof S=="function"&&(S=yield S(x,r({},b),M),M.type=S),!!S){for(let j in M){if(u.includes(j))continue;let A=M[j];M[j]=typeof A=="function"?yield A(x,r({},b),O):A}if(O=M,typeof M.message!="string")throw new Error("prompt message is required");var F=M;if($=F.name,S=F.type,l[S]===void 0)throw new Error(`prompt type (${S}) is not defined`);if(y[M.name]!==void 0&&(x=yield T(M,y[M.name]),x!==void 0)){b[$]=x;continue}try{x=c._injected?o(c._injected,M.initial):yield l[S](M),b[$]=x=yield T(M,x,!0),P=yield f(M,x,b)}catch{P=!(yield p(M,b))}if(P)return b}}}catch(j){R.e(j)}finally{R.f()}return b}),a.apply(this,arguments)}function o(v,f){const p=v.shift();if(p instanceof Error)throw p;return p===void 0?f:p}function d(v){c._injected=(c._injected||[]).concat(v)}function w(v){c._override=Object.assign({},v)}return Ke=Object.assign(c,{prompt:c,prompts:l,inject:d,override:w}),Ke}var Ze={},Xe,Fr;function Ns(){return Fr||(Fr=1,Xe=(e,r)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(r){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),Xe}var Qe,Nr;function et(){return Nr||(Nr=1,Qe=e=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),n=new RegExp(r,"g");return typeof e=="string"?e.replace(n,""):e}),Qe}var tt,Hr;function Hs(){if(Hr)return tt;Hr=1;const e=et(),{erase:r,cursor:n}=C(),t=h=>[...e(h)].length;return tt=function(h,m){if(!m)return r.line+n.to(0);let i=0;const g=h.split(/\r?\n/);for(let l of g)i+=1+Math.floor(Math.max(t(l)-1,0)/m);return r.lines(i)},tt}var rt,Yr;function Lr(){if(Yr)return rt;Yr=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},r={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return rt=process.platform==="win32"?r:e,rt}var it,kr;function Ys(){if(kr)return it;kr=1;const e=E(),r=Lr(),n=Object.freeze({password:{scale:1,render:l=>"*".repeat(l.length)},emoji:{scale:2,render:l=>"\u{1F603}".repeat(l.length)},invisible:{scale:0,render:l=>""},default:{scale:1,render:l=>`${l}`}}),t=l=>n[l]||n.default,h=Object.freeze({aborted:e.red(r.cross),done:e.green(r.tick),exited:e.yellow(r.cross),default:e.cyan("?")});return it={styles:n,render:t,symbols:h,symbol:(l,u,s)=>u?h.aborted:s?h.exited:l?h.done:h.default,delimiter:l=>e.gray(l?r.ellipsis:r.pointerSmall),item:(l,u)=>e.gray(l?u?r.pointerSmall:"+":r.line)},it}var st,Vr;function Ls(){if(Vr)return st;Vr=1;const e=et();return st=function(r,n){let t=String(e(r)||"").split(/\r?\n/);return n?t.map(h=>Math.ceil(h.length/n)).reduce((h,m)=>h+m):t.length},st}var nt,Ur;function ks(){return Ur||(Ur=1,nt=(e,r={})=>{const n=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"",t=r.width;return(e||"").split(/\r?\n/g).map(h=>h.split(/\s+/g).reduce((m,i)=>(i.length+n.length>=t||m[m.length-1].length+i.length+1<t?m[m.length-1]+=` ${i}`:m.push(`${n}${i}`),m),[n]).join(`
`)).join(`
`)}),nt}var ot,Br;function Vs(){return Br||(Br=1,ot=(e,r,n)=>{n=n||r;let t=Math.min(r-n,e-Math.floor(n/2));t<0&&(t=0);let h=Math.min(t+n,r);return{startIndex:t,endIndex:h}}),ot}var lt,Gr;function H(){return Gr||(Gr=1,lt={action:Ns(),clear:Hs(),style:Ys(),strip:et(),figures:Lr(),lines:Ls(),wrap:ks(),entriesToDisplay:Vs()}),lt}var ht,Wr;function V(){if(Wr)return ht;Wr=1;const e=jt,{action:r}=H(),n=Ft,{beep:t,cursor:h}=C(),m=E();class i extends n{constructor(l={}){super(),this.firstRender=!0,this.in=l.stdin||process.stdin,this.out=l.stdout||process.stdout,this.onRender=(l.onRender||(()=>{})).bind(this);const u=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,u),this.in.isTTY&&this.in.setRawMode(!0);const s=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,c=(a,o)=>{let d=r(o,s);d===!1?this._&&this._(a,o):typeof this[d]=="function"?this[d](o):this.bell()};this.close=()=>{this.out.write(h.show),this.in.removeListener("keypress",c),this.in.isTTY&&this.in.setRawMode(!1),u.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",c)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(t)}render(){this.onRender(m),this.firstRender&&(this.firstRender=!1)}}return ht=i,ht}var ut,zr;function Us(){if(zr)return ut;zr=1;const e=E(),r=V(),{erase:n,cursor:t}=C(),{style:h,clear:m,lines:i,figures:g}=H();class l extends r{constructor(s={}){super(s),this.transform=h.render(s.style),this.scale=this.transform.scale,this.msg=s.message,this.initial=s.initial||"",this.validator=s.validate||(()=>!0),this.value="",this.errorMsg=s.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=m("",this.out.columns),this.render()}set value(s){!s&&this.initial?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(s)),this._value=s,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let s=await this.validator(this.value);typeof s=="string"&&(this.errorMsg=s,s=!1),this.error=!s}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(s){this.placeholder||(this.cursor=this.cursor+s,this.cursorOffset+=s)}_(s,c){let a=this.value.slice(0,this.cursor),o=this.value.slice(this.cursor);this.value=`${a}${s}${o}`,this.red=!1,this.cursor=this.placeholder?0:a.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let s=this.value.slice(0,this.cursor-1),c=this.value.slice(this.cursor);this.value=`${s}${c}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let s=this.value.slice(0,this.cursor),c=this.value.slice(this.cursor+1);this.value=`${s}${c}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(t.down(i(this.outputError,this.out.columns)-1)+m(this.outputError,this.out.columns)),this.out.write(m(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(this.done),this.red?e.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((s,c,a)=>s+`
${a?" ":g.pointerSmall} ${e.red().italic(c)}`,"")),this.out.write(n.line+t.to(0)+this.outputText+t.save+this.outputError+t.restore+t.move(this.cursorOffset,0)))}}return ut=l,ut}var at,Jr;function Bs(){if(Jr)return at;Jr=1;const e=E(),r=V(),{style:n,clear:t,figures:h,wrap:m,entriesToDisplay:i}=H(),{cursor:g}=C();class l extends r{constructor(s={}){super(s),this.msg=s.message,this.hint=s.hint||"- Use arrow-keys. Return to submit.",this.warn=s.warn||"- This option is disabled",this.cursor=s.initial||0,this.choices=s.choices.map((c,a)=>(typeof c=="string"&&(c={title:c,value:a}),{title:c&&(c.title||c.value||c),value:c&&(c.value===void 0?a:c.value),description:c&&c.description,selected:c&&c.selected,disabled:c&&c.disabled})),this.optionsPerPage=s.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=t("",this.out.columns),this.render()}moveCursor(s){this.cursor=s,this.value=this.choices[s].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(s,c){if(s===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(g.hide):this.out.write(t(this.outputText,this.out.columns)),super.render();let{startIndex:s,endIndex:c}=i(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[n.symbol(this.done,this.aborted),e.bold(this.msg),n.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let a=s;a<c;a++){let o,d,w="",v=this.choices[a];a===s&&s>0?d=h.arrowUp:a===c-1&&c<this.choices.length?d=h.arrowDown:d=" ",v.disabled?(o=this.cursor===a?e.gray().underline(v.title):e.strikethrough().gray(v.title),d=(this.cursor===a?e.bold().gray(h.pointer)+" ":"  ")+d):(o=this.cursor===a?e.cyan().underline(v.title):v.title,d=(this.cursor===a?e.cyan(h.pointer)+" ":"  ")+d,v.description&&this.cursor===a&&(w=` - ${v.description}`,(d.length+o.length+w.length>=this.out.columns||v.description.split(/\r?\n/).length>1)&&(w=`
`+m(v.description,{margin:3,width:this.out.columns})))),this.outputText+=`${d} ${o}${e.gray(w)}
`}}this.out.write(this.outputText)}}return at=l,at}var ct,Kr;function Gs(){if(Kr)return ct;Kr=1;const e=E(),r=V(),{style:n,clear:t}=H(),{cursor:h,erase:m}=C();class i extends r{constructor(l={}){super(l),this.msg=l.message,this.value=!!l.initial,this.active=l.active||"on",this.inactive=l.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(l,u){if(l===" ")this.value=!this.value;else if(l==="1")this.value=!0;else if(l==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(h.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),e.bold(this.msg),n.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(m.line+h.to(0)+this.outputText))}}return ct=i,ct}var dt,Zr;function L(){if(Zr)return dt;Zr=1;class e{constructor({token:n,date:t,parts:h,locales:m}){this.token=n,this.date=t||new Date,this.parts=h||[this],this.locales=m||{}}up(){}down(){}next(){const n=this.parts.indexOf(this);return this.parts.find((t,h)=>h>n&&t instanceof e)}setTo(n){}prev(){let n=[].concat(this.parts).reverse();const t=n.indexOf(this);return n.find((h,m)=>m>t&&h instanceof e)}toString(){return String(this.date)}}return dt=e,dt}var ft,Xr;function Ws(){if(Xr)return ft;Xr=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}return ft=r,ft}var pt,Qr;function zs(){if(Qr)return pt;Qr=1;const e=L(),r=t=>(t=t%10,t===1?"st":t===2?"nd":t===3?"rd":"th");class n extends e{constructor(h={}){super(h)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(h){this.date.setDate(parseInt(h.substr(-2)))}toString(){let h=this.date.getDate(),m=this.date.getDay();return this.token==="DD"?String(h).padStart(2,"0"):this.token==="Do"?h+r(h):this.token==="d"?m+1:this.token==="ddd"?this.locales.weekdaysShort[m]:this.token==="dddd"?this.locales.weekdays[m]:h}}return pt=n,pt}var mt,ei;function Js(){if(ei)return mt;ei=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();return/h/.test(this.token)&&(t=t%12||12),this.token.length>1?String(t).padStart(2,"0"):t}}return mt=r,mt}var gt,ti;function Ks(){if(ti)return gt;ti=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return gt=r,gt}var vt,ri;function Zs(){if(ri)return vt;ri=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}return vt=r,vt}var bt,ii;function Xs(){if(ii)return bt;ii=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1,this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth(),h=this.token.length;return h===2?String(t+1).padStart(2,"0"):h===3?this.locales.monthsShort[t]:h===4?this.locales.months[t]:String(t+1)}}return bt=r,bt}var wt,si;function Qs(){if(si)return wt;si=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}return wt=r,wt}var yt,ni;function en(){if(ni)return yt;ni=1;const e=L();class r extends e{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}return yt=r,yt}var xt,oi;function tn(){return oi||(oi=1,xt={DatePart:L(),Meridiem:Ws(),Day:zs(),Hours:Js(),Milliseconds:Ks(),Minutes:Zs(),Month:Xs(),Seconds:Qs(),Year:en()}),xt}var St,li;function rn(){if(li)return St;li=1;const e=E(),r=V(),{style:n,clear:t,figures:h}=H(),{erase:m,cursor:i}=C(),{DatePart:g,Meridiem:l,Day:u,Hours:s,Milliseconds:c,Minutes:a,Month:o,Seconds:d,Year:w}=tn(),v=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,f={1:({token:y})=>y.replace(/\\(.)/g,"$1"),2:y=>new u(y),3:y=>new o(y),4:y=>new w(y),5:y=>new l(y),6:y=>new s(y),7:y=>new a(y),8:y=>new d(y),9:y=>new c(y)},p={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class b extends r{constructor(x={}){super(x),this.msg=x.message,this.cursor=0,this.typed="",this.locales=Object.assign(p,x.locales),this._date=x.initial||new Date,this.errorMsg=x.error||"Please Enter A Valid Value",this.validator=x.validate||(()=>!0),this.mask=x.mask||"YYYY-MM-DD HH:mm:ss",this.clear=t("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(x){x&&this._date.setTime(x.getTime())}set mask(x){let M;for(this.parts=[];M=v.exec(x);){let $=M.shift(),S=M.findIndex(O=>O!=null);this.parts.push(S in f?f[S]({token:M[S]||$,date:this.date,parts:this.parts,locales:this.locales}):M[S]||$)}let P=this.parts.reduce(($,S)=>(typeof S=="string"&&typeof $[$.length-1]=="string"?$[$.length-1]+=S:$.push(S),$),[]);this.parts.splice(0),this.parts.push(...P),this.reset()}moveCursor(x){this.typed="",this.cursor=x,this.fire()}reset(){this.moveCursor(this.parts.findIndex(x=>x instanceof g)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let x=await this.validator(this.value);typeof x=="string"&&(this.errorMsg=x,x=!1),this.error=!x}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let x=this.parts[this.cursor].prev();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}right(){let x=this.parts[this.cursor].next();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}next(){let x=this.parts[this.cursor].next();this.moveCursor(x?this.parts.indexOf(x):this.parts.findIndex(M=>M instanceof g)),this.render()}_(x){/\d/.test(x)&&(this.typed+=x,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),e.bold(this.msg),n.delimiter(!1),this.parts.reduce((x,M,P)=>x.concat(P===this.cursor&&!this.done?e.cyan().underline(M.toString()):M),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((x,M,P)=>x+`
${P?" ":h.pointerSmall} ${e.red().italic(M)}`,"")),this.out.write(m.line+i.to(0)+this.outputText))}}return St=b,St}var $t,hi;function sn(){if(hi)return $t;hi=1;const e=E(),r=V(),{cursor:n,erase:t}=C(),{style:h,figures:m,clear:i,lines:g}=H(),l=/[0-9]/,u=a=>a!==void 0,s=(a,o)=>{let d=Math.pow(10,o);return Math.round(a*d)/d};class c extends r{constructor(o={}){super(o),this.transform=h.render(o.style),this.msg=o.message,this.initial=u(o.initial)?o.initial:"",this.float=!!o.float,this.round=o.round||2,this.inc=o.increment||1,this.min=u(o.min)?o.min:-1/0,this.max=u(o.max)?o.max:1/0,this.errorMsg=o.error||"Please Enter A Valid Value",this.validator=o.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(o){!o&&o!==0?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${s(o,this.round)}`),this._value=s(o,this.round)),this.fire()}get value(){return this._value}parse(o){return this.float?parseFloat(o):parseInt(o)}valid(o){return o==="-"||o==="."&&this.float||l.test(o)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let o=this.value;this.value=o!==""?o:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let o=await this.validator(this.value);typeof o=="string"&&(this.errorMsg=o,o=!1),this.error=!o}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let o=this.value;this.value=o!==""?o:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let o=this.value.toString();if(o.length===0)return this.bell();this.value=this.parse(o=o.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(o,d){if(!this.valid(o))return this.bell();const w=Date.now();if(w-this.lastHit>1e3&&(this.typed=""),this.typed+=o,this.lastHit=w,this.color="cyan",o===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(n.down(g(this.outputError,this.out.columns)-1)+i(this.outputError,this.out.columns)),this.out.write(i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(this.done),!this.done||!this.done&&!this.placeholder?e[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((o,d,w)=>o+`
${w?" ":m.pointerSmall} ${e.red().italic(d)}`,"")),this.out.write(t.line+n.to(0)+this.outputText+n.save+this.outputError+n.restore))}}return $t=c,$t}var Mt,ui;function ai(){if(ui)return Mt;ui=1;const e=E(),{cursor:r}=C(),n=V(),{clear:t,figures:h,style:m,wrap:i,entriesToDisplay:g}=H();class l extends n{constructor(s={}){super(s),this.msg=s.message,this.cursor=s.cursor||0,this.scrollIndex=s.cursor||0,this.hint=s.hint||"",this.warn=s.warn||"- This option is disabled -",this.minSelected=s.min,this.showMinError=!1,this.maxChoices=s.max,this.instructions=s.instructions,this.optionsPerPage=s.optionsPerPage||10,this.value=s.choices.map((c,a)=>(typeof c=="string"&&(c={title:c,value:a}),{title:c&&(c.title||c.value||c),description:c&&c.description,value:c&&(c.value===void 0?a:c.value),selected:c&&c.selected,disabled:c&&c.disabled})),this.clear=t("",this.out.columns),s.overrideRender||this.render()}reset(){this.value.map(s=>!s.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(s=>s.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const s=this.value.filter(c=>c.selected);this.minSelected&&s.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(s=>s.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const s=this.value[this.cursor];if(s.selected)s.selected=!1,this.render();else{if(s.disabled||this.value.filter(c=>c.selected).length>=this.maxChoices)return this.bell();s.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const s=!this.value[this.cursor].selected;this.value.filter(c=>!c.disabled).forEach(c=>c.selected=s),this.render()}_(s,c){if(s===" ")this.handleSpaceToggle();else if(s==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${h.arrowUp}/${h.arrowDown}: Highlight option
    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(s,c,a,o){const d=(c.selected?e.green(h.radioOn):h.radioOff)+" "+o+" ";let w,v;return c.disabled?w=s===a?e.gray().underline(c.title):e.strikethrough().gray(c.title):(w=s===a?e.cyan().underline(c.title):c.title,s===a&&c.description&&(v=` - ${c.description}`,(d.length+w.length+v.length>=this.out.columns||c.description.split(/\r?\n/).length>1)&&(v=`
`+i(c.description,{margin:d.length,width:this.out.columns})))),d+w+e.gray(v||"")}paginateOptions(s){if(s.length===0)return e.red("No matches for this query.");let{startIndex:c,endIndex:a}=g(this.cursor,s.length,this.optionsPerPage),o,d=[];for(let w=c;w<a;w++)w===c&&c>0?o=h.arrowUp:w===a-1&&a<s.length?o=h.arrowDown:o=" ",d.push(this.renderOption(this.cursor,s[w],w,o));return`
`+d.join(`
`)}renderOptions(s){return this.done?"":this.paginateOptions(s)}renderDoneOrInstructions(){if(this.done)return this.value.filter(c=>c.selected).map(c=>c.title).join(", ");const s=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&s.push(e.yellow(this.warn)),s.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let s=[m.symbol(this.done,this.aborted),e.bold(this.msg),m.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(s+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),s+=this.renderOptions(this.value),this.out.write(this.clear+s),this.clear=t(s,this.out.columns)}}return Mt=l,Mt}var Ot,ci;function nn(){if(ci)return Ot;ci=1;const e=E(),r=V(),{erase:n,cursor:t}=C(),{style:h,clear:m,figures:i,wrap:g,entriesToDisplay:l}=H(),u=(o,d)=>o[d]&&(o[d].value||o[d].title||o[d]),s=(o,d)=>o[d]&&(o[d].title||o[d].value||o[d]),c=(o,d)=>{const w=o.findIndex(v=>v.value===d||v.title===d);return w>-1?w:void 0};class a extends r{constructor(d={}){super(d),this.msg=d.message,this.suggest=d.suggest,this.choices=d.choices,this.initial=typeof d.initial=="number"?d.initial:c(d.choices,d.initial),this.select=this.initial||d.cursor||0,this.i18n={noMatches:d.noMatches||"no matches found"},this.fallback=d.fallback||this.initial,this.clearFirst=d.clearFirst||!1,this.suggestions=[],this.input="",this.limit=d.limit||10,this.cursor=0,this.transform=h.render(d.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=m("",this.out.columns),this.complete(this.render),this.render()}set fallback(d){this._fb=Number.isSafeInteger(parseInt(d))?parseInt(d):d}get fallback(){let d;return typeof this._fb=="number"?d=this.choices[this._fb]:typeof this._fb=="string"&&(d={title:this._fb}),d||this._fb||{title:this.i18n.noMatches}}moveSelect(d){this.select=d,this.suggestions.length>0?this.value=u(this.suggestions,d):this.value=this.fallback.value,this.fire()}async complete(d){const w=this.completing=this.suggest(this.input,this.choices),v=await w;if(this.completing!==w)return;this.suggestions=v.map((p,b,y)=>({title:s(y,b),value:u(y,b),description:p.description})),this.completing=!1;const f=Math.max(v.length-1,0);this.moveSelect(Math.min(f,this.select)),d&&d()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(d,w){let v=this.input.slice(0,this.cursor),f=this.input.slice(this.cursor);this.input=`${v}${d}${f}`,this.cursor=v.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let d=this.input.slice(0,this.cursor-1),w=this.input.slice(this.cursor);this.input=`${d}${w}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let d=this.input.slice(0,this.cursor),w=this.input.slice(this.cursor+1);this.input=`${d}${w}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(d,w,v,f){let p,b=v?i.arrowUp:f?i.arrowDown:" ",y=w?e.cyan().underline(d.title):d.title;return b=(w?e.cyan(i.pointer)+" ":"  ")+b,d.description&&(p=` - ${d.description}`,(b.length+y.length+p.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(p=`
`+g(d.description,{margin:3,width:this.out.columns}))),b+" "+y+e.gray(p||"")}render(){if(this.closed)return;this.firstRender?this.out.write(t.hide):this.out.write(m(this.outputText,this.out.columns)),super.render();let{startIndex:d,endIndex:w}=l(this.select,this.choices.length,this.limit);if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const v=this.suggestions.slice(d,w).map((f,p)=>this.renderOption(f,this.select===p+d,p===0&&d>0,p+d===w-1&&w<this.choices.length)).join(`
`);this.outputText+=`
`+(v||e.gray(this.fallback.title))}this.out.write(n.line+t.to(0)+this.outputText)}}return Ot=a,Ot}var Pt,di;function on(){if(di)return Pt;di=1;const e=E(),{cursor:r}=C(),n=ai(),{clear:t,style:h,figures:m}=H();class i extends n{constructor(l={}){l.overrideRender=!0,super(l),this.inputValue="",this.clear=t("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(l=>l.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const l=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(s=>this.inputValue?!!(typeof s.title=="string"&&s.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof s.value=="string"&&s.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const u=this.filteredOptions.findIndex(s=>s===l);this.cursor=u<0?0:u,this.render()}handleSpaceToggle(){const l=this.filteredOptions[this.cursor];if(l.selected)l.selected=!1,this.render();else{if(l.disabled||this.value.filter(u=>u.selected).length>=this.maxChoices)return this.bell();l.selected=!0,this.render()}}handleInputChange(l){this.inputValue=this.inputValue+l,this.updateFilteredOptions()}_(l,u){l===" "?this.handleSpaceToggle():this.handleInputChange(l)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${m.arrowUp}/${m.arrowDown}: Highlight option
    ${m.arrowLeft}/${m.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(l,u,s){let c;return u.disabled?c=l===s?e.gray().underline(u.title):e.strikethrough().gray(u.title):c=l===s?e.cyan().underline(u.title):u.title,(u.selected?e.green(m.radioOn):m.radioOff)+"  "+c}renderDoneOrInstructions(){if(this.done)return this.value.filter(u=>u.selected).map(u=>u.title).join(", ");const l=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&l.push(e.yellow(this.warn)),l.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let l=[h.symbol(this.done,this.aborted),e.bold(this.msg),h.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(l+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),l+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+l),this.clear=t(l,this.out.columns)}}return Pt=i,Pt}var Tt,fi;function ln(){if(fi)return Tt;fi=1;const e=E(),r=V(),{style:n,clear:t}=H(),{erase:h,cursor:m}=C();class i extends r{constructor(l={}){super(l),this.msg=l.message,this.value=l.initial,this.initialValue=!!l.initial,this.yesMsg=l.yes||"yes",this.yesOption=l.yesOption||"(Y/n)",this.noMsg=l.no||"no",this.noOption=l.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(l,u){return l.toLowerCase()==="y"?(this.value=!0,this.submit()):l.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(m.hide):this.out.write(t(this.outputText,this.out.columns)),super.render(),this.outputText=[n.symbol(this.done,this.aborted),e.bold(this.msg),n.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(h.line+m.to(0)+this.outputText))}}return Tt=i,Tt}var Et,pi;function hn(){return pi||(pi=1,Et={TextPrompt:Us(),SelectPrompt:Bs(),TogglePrompt:Gs(),DatePrompt:rn(),NumberPrompt:sn(),MultiselectPrompt:ai(),AutocompletePrompt:nn(),AutocompleteMultiselectPrompt:on(),ConfirmPrompt:ln()}),Et}var mi;function un(){return mi||(mi=1,function(e){const r=e,n=hn(),t=i=>i;function h(i,g,l={}){return new Promise((u,s)=>{const c=new n[i](g),a=l.onAbort||t,o=l.onSubmit||t,d=l.onExit||t;c.on("state",g.onState||t),c.on("submit",w=>u(o(w))),c.on("exit",w=>u(d(w))),c.on("abort",w=>s(a(w)))})}r.text=i=>h("TextPrompt",i),r.password=i=>(i.style="password",r.text(i)),r.invisible=i=>(i.style="invisible",r.text(i)),r.number=i=>h("NumberPrompt",i),r.date=i=>h("DatePrompt",i),r.confirm=i=>h("ConfirmPrompt",i),r.list=i=>{const g=i.separator||",";return h("TextPrompt",i,{onSubmit:l=>l.split(g).map(u=>u.trim())})},r.toggle=i=>h("TogglePrompt",i),r.select=i=>h("SelectPrompt",i),r.multiselect=i=>{i.choices=[].concat(i.choices||[]);const g=l=>l.filter(u=>u.selected).map(u=>u.value);return h("MultiselectPrompt",i,{onAbort:g,onSubmit:g})},r.autocompleteMultiselect=i=>{i.choices=[].concat(i.choices||[]);const g=l=>l.filter(u=>u.selected).map(u=>u.value);return h("AutocompleteMultiselectPrompt",i,{onAbort:g,onSubmit:g})};const m=(i,g)=>Promise.resolve(g.filter(l=>l.title.slice(0,i.length).toLowerCase()===i.toLowerCase()));r.autocomplete=i=>(i.suggest=i.suggest||m,i.choices=[].concat(i.choices||[]),h("AutocompletePrompt",i))}(Ze)),Ze}var Ct,gi;function an(){if(gi)return Ct;gi=1;const e=un(),r=["suggest","format","onState","validate","onRender","type"],n=()=>{};async function t(g=[],{onSubmit:l=n,onCancel:u=n}={}){const s={},c=t._override||{};g=[].concat(g);let a,o,d,w,v,f;const p=async(b,y,x=!1)=>{if(!(!x&&b.validate&&b.validate(y)!==!0))return b.format?await b.format(y,s):y};for(o of g)if({name:w,type:v}=o,typeof v=="function"&&(v=await v(a,{...s},o),o.type=v),!!v){for(let b in o){if(r.includes(b))continue;let y=o[b];o[b]=typeof y=="function"?await y(a,{...s},f):y}if(f=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:w,type:v}=o,e[v]===void 0)throw new Error(`prompt type (${v}) is not defined`);if(c[o.name]!==void 0&&(a=await p(o,c[o.name]),a!==void 0)){s[w]=a;continue}try{a=t._injected?h(t._injected,o.initial):await e[v](o),s[w]=a=await p(o,a,!0),d=await l(o,a,s)}catch{d=!await u(o,s)}if(d)return s}return s}function h(g,l){const u=g.shift();if(u instanceof Error)throw u;return u===void 0?l:u}function m(g){t._injected=(t._injected||[]).concat(g)}function i(g){t._override=Object.assign({},g)}return Ct=Object.assign(t,{prompt:t,prompts:e,inject:m,override:i}),Ct}function cn(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let r=0,n=process.versions.node.split(".").map(Number);for(;r<e.length;r++){if(n[r]>e[r])return!1;if(e[r]>n[r])return!0}return!1}var dn=cn("8.6.0")?Fs():an();const _t=se(dn);let B=!0;const J=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let Z=0;if(J.process&&J.process.env&&J.process.stdout){const{FORCE_COLOR:e,NODE_DISABLE_COLORS:r,NO_COLOR:n,TERM:t,COLORTERM:h}=J.process.env;r||n||e==="0"?B=!1:e==="1"||e==="2"||e==="3"?B=!0:t==="dumb"?B=!1:"CI"in J.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(m=>m in J.process.env)?B=!0:B=process.stdout.isTTY,B&&(process.platform==="win32"||h&&(h==="truecolor"||h==="24bit")?Z=3:t&&(t.endsWith("-256color")||t.endsWith("256"))?Z=2:Z=1)}let vi={enabled:B,supportLevel:Z};function X(e,r,n=1){const t=`\x1B[${e}m`,h=`\x1B[${r}m`,m=new RegExp(`\\x1b\\[${r}m`,"g");return i=>vi.enabled&&vi.supportLevel>=n?t+(""+i).replace(m,t)+h:""+i}const K=X(0,0),qt=X(31,39),fn=X(33,39),bi=X(34,39),pn=X(36,39),Q=cs(process.argv.slice(2),{string:["_"]}),U=process.cwd(),mn=[{name:"order",display:"order",color:bi},{name:"list",display:"list",color:fn}],Dt=[{name:"react",display:"React",color:pn,variants:[{name:"react-test",display:"react-test",color:bi}]}],wi=Dt.map(e=>e.variants&&e.variants.map(r=>r.name)||[e.name]).reduce((e,r)=>e.concat(r),[]),yi={_gitignore:".gitignore"},Rt="seric-project";async function gn(){const e=xi(Q._[0]),r=Q.template||Q.t,n=Q.page;let t=e||Rt;const h=()=>t==="."?D.basename(D.resolve()):t;let m;if(_t.override({overwrite:Q.overwrite}),console.log("page:",n),n){try{m=await _t([{type:"select",name:"page",message:K("Select a page template:"),choices:()=>mn.map(c=>{const a=c.color;return{title:a(c.display||c.name),value:c.name}})}],{onCancel:()=>{throw new Error(qt("\u2716")+" Operation cancelled")}})}catch(c){console.log(c.message);return}const{page:i}=m,g=D.join(U,t);console.log("root:",U,t),console.log("fileURLToPath(import.meta.url):",te(import.meta.url));const l=D.resolve(te(import.meta.url),"../..",`template-${i}`),u=(c,a)=>{D.join(g,yi[c]??c),console.log("write:",l,c,U),a?q.writeFileSync(U,a):It(D.join(l,c),D.join(U,c))},s=q.readdirSync(l);console.log("files:",s);for(const c of s.filter(a=>a!=="package.json"))u(c)}else{try{m=await _t([{type:e?null:"text",name:"projectName",message:K("Project name:"),initial:Rt,onState:$=>{t=xi($.value)||Rt}},{type:()=>!q.existsSync(t)||wn(t)?null:"select",name:"overwrite",message:()=>(t==="."?"Current directory":`Target directory "${t}"`)+" is not empty. Please choose how to proceed:",initial:0,choices:[{title:"Remove existing files and continue",value:"yes"},{title:"Cancel operation",value:"no"},{title:"Ignore files and continue",value:"ignore"}]},{type:($,{overwrite:S})=>{if(S==="no")throw new Error(qt("\u2716")+" Operation cancelled");return null},name:"overwriteChecker"},{type:()=>Si(h())?null:"text",name:"packageName",message:K("Package name:"),initial:()=>vn(h()),validate:$=>Si($)||"Invalid package.json name"},{type:r&&wi.includes(r)?null:"select",name:"framework",message:typeof r=="string"&&!wi.includes(r)?K(`"${r}" isn't a valid template. Please choose from below: `):K("Select a framework:"),initial:0,choices:Dt.map($=>{const S=$.color;return{title:S($.display||$.name),value:$}})},{type:$=>$&&$.variants?"select":null,name:"variant",message:K("Select a variant:"),choices:$=>$.variants.map(S=>{const O=S.color;return{title:O(S.display||S.name),value:S.name}})},{type:"toggle",name:"install",message:"npm install?",initial:!0,active:"yes",inactive:"no"}],{onCancel:()=>{throw new Error(qt("\u2716")+" Operation cancelled")}})}catch($){console.log($.message);return}const{framework:i,overwrite:g,packageName:l,variant:u,install:s}=m,c=D.join(U,t);g==="yes"?yn(c):q.existsSync(c)||q.mkdirSync(c,{recursive:!0});let a=u||i?.name||r,o=!1;a.includes("-swc")&&(o=!0,a=a.replace("-swc",""));const d=xn(process.env.npm_config_user_agent),w=d?d.name:"npm",v=w==="yarn"&&d?.version.startsWith("1."),{customCommand:f}=Dt.flatMap($=>$.variants).find($=>$.name===a)??{};if(f){const $=f.replace(/^npm create /,()=>w==="bun"?"bun x create-":`${w} create `).replace("@latest",()=>v?"":"@latest").replace(/^npm exec/,()=>w==="pnpm"?"pnpm dlx":w==="yarn"&&!v?"yarn dlx":w==="bun"?"bun x":"npm exec"),[S,...O]=$.split(" "),T=O.map(_=>_.replace("TARGET_DIR",t)),{status:R}=hs.sync(S,T,{stdio:"inherit"});process.exit(R??0)}console.log(`
Scaffolding project in ${c}...`);const p=D.resolve(te(import.meta.url),"../..",`template-${a}`),b=($,S)=>{const O=D.join(c,yi[$]??$);S?q.writeFileSync(O,S):It(D.join(p,$),O)},y=q.readdirSync(p);for(const $ of y.filter(S=>S!=="package.json"))b($);const x=JSON.parse(q.readFileSync(D.join(p,"package.json"),"utf-8"));x.name=l||h(),b("package.json",JSON.stringify(x,null,2)+`
`),o&&Sn(c,a.endsWith("-ts"));const M=D.relative(U,c);switch(console.log(`
Done. Now run:
`),c!==U&&console.log(`  cd ${M.includes(" ")?`"${M}"`:M}`),w){case"yarn":console.log("  yarn"),console.log("  yarn dev");break;default:console.log(`  ${w} install`),console.log(`  ${w} run dev`);break}const P=Pi("\u6B63\u5728\u5B89\u88C5\u4F9D\u8D56...").start();s&&Oi(`  cd ${M.includes(" ")?`"${M}"`:M} && npm install`,($,S,O)=>{if($){P.fail(`\u6267\u884C\u51FA\u9519: ${$.message}`);return}if(O){P.fail(`stderr: ${O}`);return}P.succeed("\u4F9D\u8D56\u5B89\u88C5\u5B8C\u6210")})}}function xi(e){return e?.trim().replace(/\/+$/g,"")}function It(e,r){q.statSync(e).isDirectory()?bn(e,r):q.copyFileSync(e,r)}function Si(e){return/^(?:@[a-z\d\-*~][a-z\d\-*._~]*\/)?[a-z\d\-~][a-z\d\-._~]*$/.test(e)}function vn(e){return e.trim().toLowerCase().replace(/\s+/g,"-").replace(/^[._]/,"").replace(/[^a-z\d\-~]+/g,"-")}function bn(e,r){q.mkdirSync(r,{recursive:!0});for(const n of q.readdirSync(e)){const t=D.resolve(e,n),h=D.resolve(r,n);It(t,h)}}function wn(e){const r=q.readdirSync(e);return r.length===0||r.length===1&&r[0]===".git"}function yn(e){if(q.existsSync(e))for(const r of q.readdirSync(e))r!==".git"&&q.rmSync(D.resolve(e,r),{recursive:!0,force:!0})}function xn(e){if(!e)return;const r=e.split(" ")[0].split("/");return{name:r[0],version:r[1]}}function Sn(e,r){$i(D.resolve(e,"package.json"),n=>n.replace(/"@vitejs\/plugin-react": ".+?"/,'"@vitejs/plugin-react-swc": "^3.5.0"')),$i(D.resolve(e,`vite.config.${r?"ts":"js"}`),n=>n.replace("@vitejs/plugin-react","@vitejs/plugin-react-swc"))}function $i(e,r){const n=q.readFileSync(e,"utf-8");q.writeFileSync(e,r(n),"utf-8")}gn().catch(e=>{console.error(e)});
